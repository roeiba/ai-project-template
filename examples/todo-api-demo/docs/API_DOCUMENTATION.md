# TaskFlow API Documentation

> **Generated by AI Agent from PROJECT_BRIEF.md specifications**

## Overview

The TaskFlow API is a RESTful API for task management that supports user authentication, task CRUD operations, task organization, and collaboration features.

**Base URL**: `https://api.taskflow.example.com/api/v1`

**Version**: 1.0.0

## Authentication

All API endpoints (except registration and login) require authentication using JWT tokens.

### Getting Started

1. Register a new user account
2. Login to receive a JWT token
3. Include the token in the `Authorization` header for all requests

```http
Authorization: Bearer <your-jwt-token>
```

## Endpoints

### Authentication

#### Register User

```http
POST /auth/register
```

**Request Body:**
```json
{
  "email": "user@example.com",
  "password": "SecurePassword123!",
  "name": "John Doe"
}
```

**Response:** `201 Created`
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "email": "user@example.com",
    "name": "John Doe",
    "verified": false
  },
  "message": "User registered successfully. Please verify your email."
}
```

#### Login

```http
POST /auth/login
```

**Request Body:**
```json
{
  "email": "user@example.com",
  "password": "SecurePassword123!"
}
```

**Response:** `200 OK`
```json
{
  "success": true,
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": "uuid",
      "email": "user@example.com",
      "name": "John Doe",
      "role": "user"
    }
  }
}
```

### Tasks

#### Create Task

```http
POST /tasks
Authorization: Bearer <token>
```

**Request Body:**
```json
{
  "title": "Complete project documentation",
  "description": "Write comprehensive API docs",
  "priority": "high",
  "status": "todo",
  "dueDate": "2025-12-31T23:59:59Z",
  "listId": "optional-list-uuid",
  "tags": ["documentation", "important"]
}
```

**Response:** `201 Created`
```json
{
  "success": true,
  "data": {
    "id": "task-uuid",
    "title": "Complete project documentation",
    "description": "Write comprehensive API docs",
    "priority": "high",
    "status": "todo",
    "dueDate": "2025-12-31T23:59:59Z",
    "userId": "user-uuid",
    "listId": "list-uuid",
    "tags": ["documentation", "important"],
    "createdAt": "2025-11-13T10:00:00Z",
    "updatedAt": "2025-11-13T10:00:00Z"
  },
  "message": "Task created successfully"
}
```

#### Get All Tasks

```http
GET /tasks?status=todo&priority=high&page=1&limit=20
Authorization: Bearer <token>
```

**Query Parameters:**
- `status` (optional): Filter by status (todo, in_progress, completed, archived)
- `priority` (optional): Filter by priority (low, medium, high, urgent)
- `listId` (optional): Filter by list ID
- `search` (optional): Search in title and description
- `page` (optional): Page number (default: 1)
- `limit` (optional): Items per page (default: 20, max: 100)

**Response:** `200 OK`
```json
{
  "success": true,
  "data": [
    {
      "id": "task-uuid",
      "title": "Complete project documentation",
      "priority": "high",
      "status": "todo",
      "dueDate": "2025-12-31T23:59:59Z",
      "tags": ["documentation"]
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 45,
    "totalPages": 3
  }
}
```

#### Get Task by ID

```http
GET /tasks/:id
Authorization: Bearer <token>
```

**Response:** `200 OK`
```json
{
  "success": true,
  "data": {
    "id": "task-uuid",
    "title": "Complete project documentation",
    "description": "Write comprehensive API docs",
    "priority": "high",
    "status": "todo",
    "dueDate": "2025-12-31T23:59:59Z",
    "userId": "user-uuid",
    "tags": ["documentation"],
    "createdAt": "2025-11-13T10:00:00Z",
    "updatedAt": "2025-11-13T10:00:00Z"
  }
}
```

#### Update Task

```http
PATCH /tasks/:id
Authorization: Bearer <token>
```

**Request Body:** (all fields optional)
```json
{
  "title": "Updated title",
  "status": "in_progress",
  "priority": "urgent"
}
```

**Response:** `200 OK`
```json
{
  "success": true,
  "data": {
    "id": "task-uuid",
    "title": "Updated title",
    "status": "in_progress",
    "priority": "urgent",
    "updatedAt": "2025-11-13T11:00:00Z"
  },
  "message": "Task updated successfully"
}
```

#### Delete Task

```http
DELETE /tasks/:id
Authorization: Bearer <token>
```

**Response:** `200 OK`
```json
{
  "success": true,
  "message": "Task deleted successfully"
}
```

#### Bulk Update Tasks

```http
PATCH /tasks/bulk
Authorization: Bearer <token>
```

**Request Body:**
```json
{
  "taskIds": ["uuid1", "uuid2", "uuid3"],
  "updates": {
    "status": "completed"
  }
}
```

**Response:** `200 OK`
```json
{
  "success": true,
  "data": {
    "updated": 3,
    "failed": 0
  },
  "message": "3 tasks updated successfully"
}
```

### Lists

#### Create List

```http
POST /lists
Authorization: Bearer <token>
```

**Request Body:**
```json
{
  "name": "Work Projects",
  "description": "All work-related tasks",
  "isPublic": false
}
```

**Response:** `201 Created`

#### Share List

```http
POST /lists/:id/share
Authorization: Bearer <token>
```

**Request Body:**
```json
{
  "userId": "user-uuid",
  "permission": "write"
}
```

**Response:** `200 OK`

## Error Responses

All errors follow this format:

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "Human readable error message",
    "details": {}
  }
}
```

### Common HTTP Status Codes

- `200 OK`: Request succeeded
- `201 Created`: Resource created successfully
- `400 Bad Request`: Invalid request data
- `401 Unauthorized`: Missing or invalid authentication
- `403 Forbidden`: Insufficient permissions
- `404 Not Found`: Resource not found
- `409 Conflict`: Resource already exists
- `429 Too Many Requests`: Rate limit exceeded
- `500 Internal Server Error`: Server error

## Rate Limiting

- **Rate Limit**: 100 requests per minute per IP
- **Headers**:
  - `X-RateLimit-Limit`: Maximum requests per window
  - `X-RateLimit-Remaining`: Remaining requests
  - `X-RateLimit-Reset`: Time when limit resets

## Pagination

List endpoints support pagination:

```http
GET /tasks?page=2&limit=50
```

Response includes pagination metadata:
```json
{
  "pagination": {
    "page": 2,
    "limit": 50,
    "total": 150,
    "totalPages": 3
  }
}
```

## Data Validation

### Task Title
- Required
- Min length: 1 character
- Max length: 255 characters

### Task Description
- Optional
- Max length: 5000 characters

### Tags
- Max 10 tags per task
- Max 50 characters per tag

### Priority Values
- `low`, `medium`, `high`, `urgent`

### Status Values
- `todo`, `in_progress`, `completed`, `archived`

## Webhooks

Configure webhooks to receive real-time notifications:

```http
POST /webhooks
Authorization: Bearer <token>
```

**Request Body:**
```json
{
  "url": "https://your-app.com/webhooks",
  "events": ["task.created", "task.updated", "task.completed"]
}
```

## SDKs and Client Libraries

- **JavaScript/TypeScript**: `npm install @taskflow/sdk`
- **Python**: `pip install taskflow-sdk`
- **Go**: Coming soon
- **Ruby**: Coming soon

## Support

- **Documentation**: https://docs.taskflow.example.com
- **API Status**: https://status.taskflow.example.com
- **Support Email**: support@taskflow.example.com
- **GitHub Issues**: https://github.com/taskflow/api/issues
